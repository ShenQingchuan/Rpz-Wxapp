<!--pages/speechSchedule/speechSchedule.wxml-->
<l-toast />

<view class="page-container">
  <l-card type="primary" class="container"
    plaintext="{{true}}" title="ğŸ“š ä½ å½“å‰çš„ç§¯åˆ†ä¸º:">
    <view class="balance-count">
      {{score}} åˆ†
    </view>
  </l-card>
  
  <!-- å½“å‰è¿›è¡Œä¸­çš„å±•è®² -->
  <l-card type="primary" class="container" wx:if="{{currentExists}}"
    plaintext="{{true}}" title="ğŸ‘‰ æ­£åœ¨è¿›è¡Œä¸­çš„å±•è®²: ">
    <view class="speech-info">
      <l-countdown time="{{current_end_time}}" status="{{currentCountdownOpenStatus}}" />
    </view>
    <view class="speech-speaker">
      å½“å‰è¿›è¡Œå±•è®²çš„åˆ†äº«äººæ˜¯ï¼š<text>{{current_speaker}}</text>
    </view>
    <view class="speech-topic">
      å½“å‰è¿›è¡Œå±•è®²çš„ä¸»é¢˜æ˜¯ï¼š<text>{{current_title}}</text>
    </view>
    <view class="entry-container" >
      <l-button special="{{true}}" bind:lintap="jumpToCurrentSpeechPage">
        <!-- æ­¤å¤„æ˜¯æ’æ§½è‡ªå®šä¹‰å†…å®¹ -->
        <text class="entry-btn-text">
          â†’ ç«‹å³è¿›å…¥
        </text>
      </l-button>
    </view>
  </l-card>

  <!-- ä¸‹æ¬¡æœ€è¿‘æ—¶é—´çš„å±•è®² -->
  <l-card type="primary" class="container"
    plaintext="{{true}}" title="â° ä¸‹æ¬¡å±•è®²è¯¦æƒ…: ">
    <view class="speech-info">
      <l-countdown time="{{next_start_time}}" status="{{nextCountdownOpenStatus}}" />
    </view>
    <view class="speech-speaker">
      ä¸‹æ¬¡å±•è®²çš„åˆ†äº«äººæ˜¯ï¼š<text>{{next_speaker}}</text>
    </view>
    <view class="speech-topic">
      ä¸‹æ¬¡å±•è®²çš„ä¸»é¢˜æ˜¯ï¼š<text>{{next_title}}</text>
    </view>
  </l-card>

  <l-card type="primary" class="container"
   plaintext="{{true}}" title="ğŸ“‚ æˆ‘çš„å±•è®²å†å²è®°å½•: ">
   <loadmore show="{{true}}" type="end" l-class=""
    loading-text="æ­£åœ¨åŠ è½½å‘¢ ~" end-text=" - ä¹Ÿå°±è®²è¿‡è¿™ä¹ˆå¤šäº† - ">
      <view class="speech-history-list" slot="content">
        <!-- è‹¥æ²¡æœ‰ç»„ç»‡è¿‡ï¼ˆæ•°ç»„é•¿åº¦ä¸º 0ï¼‰ -->
        <l-list title="ä½ è¿˜æ²¡æœ‰è¿‡å±•è®²å“¦" wx:if="{{myhistory.length === 0}}"
         desc="å¿«å»ç»„ç»‡ä½ çš„ç¬¬ä¸€æ¬¡å±•è®²æ´»åŠ¨å§!"
        l-class-desc="speech-history-desc" />

        <view wx:else>
          <!-- è‹¥æ•°ç»„é•¿åº¦ä¸ä¸º 0åˆ™ wx:for -->
          <l-list wx:for="{{myhistory}}" wx:key="history_key"
           title="{{item.title}}" 
           desc="{{item.timeGap}}"
          l-class-desc="speech-history-desc" />
        </view>
      </view>
    </loadmore>
  </l-card>
</view>